<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" id="Definitions_13e5ux3" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="1.15.1">
  <bpmn:process id="Process_1" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:outgoing>SequenceFlow_1bpj58r</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:endEvent id="EndEvent_0s8vc36">
      <bpmn:incoming>SequenceFlow_04lnlnw</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1bpj58r" sourceRef="StartEvent_1" targetRef="Task_1jr8xrv" />
    <bpmn:scriptTask id="Task_1jr8xrv" name="ManufacturingCapabilityVariant create" scriptFormat="JavaScript">
      <bpmn:incoming>SequenceFlow_1bpj58r</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_160ozkx</bpmn:outgoing>
      <bpmn:script>var url = "http://localhost:8080/services/resourceinstance/_jJdx4DD7EeiuBvcKgWzd3Q/capability/_jNgp8FNhEeibbdo05KXxGQ/variant";
var postData = "{\r\n" + 
	 "    \"eClass\": \"http://www.dfki.de/iui/basys/model/resourceinstance#//ManufacturingCapabilityVariant\",\r\n" + 
	 "    \"id\": \"_gTTk01-lEeixtLE-b5nbbQ\",\r\n" + 
	 "    \"name\": \"Apply light blue cap\",\r\n" + 
	 "    \"capability\": {\r\n" + 
	 "        \"eClass\": \"http://www.dfki.de/iui/basys/model/capability#//PickAndPlace\",\r\n" + 
	 "        \"id\": \"_xio67l8yEeiUo-65_7rTBT\",\r\n" + 
	 "        \"loadCarrierUnit\": \"MATERIAL\"\r\n" + 
	 "    },\r\n" + 
	 "    \"appliedOn\": [\r\n" + 
	 "        {\r\n" + 
	 "            \"eClass\": \"http://www.dfki.de/iui/basys/model/productdefinition#//MaterialEntry\",\r\n" + 
	 "            \"$ref\": \"http://localhost:8080/services/entity/_IpqbzV29EeixDOGCyjgf_g\"\r\n" + 
	 "        },\r\n" + 
	 "        {\r\n" + 
	 "            \"eClass\": \"http://www.dfki.de/iui/basys/model/productdefinition#//AssemblyGroupEntry\",\r\n" + 
	 "            \"$ref\": \"http://localhost:8080/services/entity/_IpqbzF29EeixDOGCyjgf_g\"\r\n" + 
	 "        }\r\n" + 
	 "    ]\r\n" + 
	 "}"; 

var httpConnector = org.camunda.connect.Connectors.http();
var resp = httpConnector.createRequest()
  .post()
  .url(url )
  .contentType("application/json")
  .payload(postData )
  .execute()

var result = resp.getResponse()
resp.close()
</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="SequenceFlow_160ozkx" sourceRef="Task_1jr8xrv" targetRef="Task_1red4cx" />
    <bpmn:sequenceFlow id="SequenceFlow_04lnlnw" sourceRef="Task_1red4cx" targetRef="EndEvent_0s8vc36" />
    <bpmn:scriptTask id="Task_1red4cx" name="ManufacturingCapabilityVariant delete" scriptFormat="JavaScript">
      <bpmn:incoming>SequenceFlow_160ozkx</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_04lnlnw</bpmn:outgoing>
      <bpmn:script>var url = "http://localhost:8080/services/resourceinstance/_jJdx4DD7EeiuBvcKgWzd3Q/capability/_jNgp8FNhEeibbdo05KXxGQ/variant/_gTTk01-lEeixtLE-b5nbbQ";

var httpConnector = org.camunda.connect.Connectors.http();
var resp = httpConnector.createRequest()
  .delete()
  .url(url )
  .execute()

var result = resp.getResponse()
resp.close()
</bpmn:script>
    </bpmn:scriptTask>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="173" y="102" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_0s8vc36_di" bpmnElement="EndEvent_0s8vc36">
        <dc:Bounds x="884" y="102" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1bpj58r_di" bpmnElement="SequenceFlow_1bpj58r">
        <di:waypoint x="209" y="120" />
        <di:waypoint x="320" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ScriptTask_11ga1cf_di" bpmnElement="Task_1jr8xrv">
        <dc:Bounds x="320" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_160ozkx_di" bpmnElement="SequenceFlow_160ozkx">
        <di:waypoint x="420" y="120" />
        <di:waypoint x="633" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_04lnlnw_di" bpmnElement="SequenceFlow_04lnlnw">
        <di:waypoint x="733" y="120" />
        <di:waypoint x="884" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ScriptTask_0uicmer_di" bpmnElement="Task_1red4cx">
        <dc:Bounds x="633" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
